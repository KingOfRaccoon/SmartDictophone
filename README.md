# Smart Dictophone API

**–ü—Ä–æ–¥–∞–∫—à–µ–Ω-–≥–æ—Ç–æ–≤—ã–π –±—ç–∫–µ–Ω–¥ API** –Ω–∞ **Ktor 3.x** –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è "–£–º–Ω—ã–π –¥–∏–∫—Ç–æ—Ñ–æ–Ω" —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Keycloak.

## üåü –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Keycloak –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **üéôÔ∏è –ê—É–¥–∏–æ–∑–∞–ø–∏—Å–∏**: –ó–∞–≥—Ä—É–∑–∫–∞, —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ M4A
- **üìù –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ä–µ—á–∏ —á–µ—Ä–µ–∑ ML —Å–µ—Ä–≤–∏—Å
- **üìÅ –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è**: –°–∏—Å—Ç–µ–º–∞ –ø–∞–ø–æ–∫ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–∏—Å–µ–π
- **üìÑ –≠–∫—Å–ø–æ—Ä—Ç**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏
- **üîç –ü–æ–∏—Å–∫**: –ü–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤—ã–π –ø–æ–∏—Å–∫ –ø–æ –∑–∞–ø–∏—Å—è–º –∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º
- **üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞**: –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –æ—Ç—á—ë—Ç—ã

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Mobile    ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ     API      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ  Keycloak   ‚îÇ
‚îÇ     App     ‚îÇ    ‚îÇ (Ktor + JWT) ‚îÇ    ‚îÇ    Auth     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ            ‚îÇ            ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ PostgreSQL  ‚îÇ   ‚îÇ   S3    ‚îÇ   ‚îÇ  ML   ‚îÇ
    ‚îÇ  Database   ‚îÇ   ‚îÇ Storage ‚îÇ   ‚îÇService‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend
- **Kotlin** - –æ—Å–Ω–æ–≤–Ω–æ–π —è–∑—ã–∫ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **Ktor 3.3.0** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ (Netty engine)
- **Exposed ORM** - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- **HikariCP** - –ø—É–ª —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î
- **Kotlin Coroutines** - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **Keycloak** - —Å–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **JWT** - —Ç–æ–∫–µ–Ω—ã –¥–æ—Å—Ç—É–ø–∞
- **CORS** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–µ–∂–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

### –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- **PostgreSQL** - –æ—Å–Ω–æ–≤–Ω–∞—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **AWS S3 / MinIO** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤
- **Apache PDFBox** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è PDF

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **OpenAPI 3.1** - —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è API
- **Swagger UI** - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìã –°–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **JDK 17+**
- **RAM**: 2GB+
- **Disk**: 10GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞
- **PostgreSQL 14+**
- **Keycloak 23+**

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
- **JDK 21** (LTS)
- **RAM**: 4GB+
- **Disk**: 50GB+ (–≤–∫–ª—é—á–∞—è —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤)
- **PostgreSQL 16+**
- **Keycloak 25+**

## ‚ö° –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/KingOfRaccoon/SmartDictophone.git
cd SmartDictophone

# –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª —Å–æ–≥–ª–∞—Å–Ω–æ –≤–∞—à–µ–º—É –æ–∫—Ä—É–∂–µ–Ω–∏—é
```

### 2. –ó–∞–ø—É—Å–∫ —Å Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (PostgreSQL, Keycloak, MinIO, RabbitMQ, API)
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose ps

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f api
```

> ‚ÑπÔ∏è –°–µ—Ä–≤–∏—Å `ml-service` —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –∏–∑ –ø—É–±–ª–∏—á–Ω–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è [`mrkuloff/voice-recorder-ml-service`](https://github.com/mrkuloff/voice-recorder-ml-service) (–≤–µ—Ç–∫–∞ `main`). –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `docker-compose build ml-service`, —á—Ç–æ–±—ã –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –æ–±—Ä–∞–∑; –¥–∞–ª—å–Ω–µ–π—à–∏–µ `docker-compose up` –±—É–¥—É—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –µ–≥–æ –∏–∑ –∫—ç—à–∞.

### 3. –†—É—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

```bash
# –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
./gradlew build

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
./gradlew run

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ: –∑–∞–ø—É—Å–∫ JAR
java -jar build/libs/smart-dictophone-1.0.0.jar
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–û—Å–Ω–æ–≤–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:

```bash
# Database
DATABASE_URL=jdbc:postgresql://localhost:5432/smartdictophone
DATABASE_USER=smartdictophone
DATABASE_PASSWORD=your_secure_password

# Keycloak
KEYCLOAK_SERVER_URL=https://auth.yourcompany.com
KEYCLOAK_REALM=smartdictophone
KEYCLOAK_CLIENT_ID=smartdictophone-backend
KEYCLOAK_CLIENT_SECRET=your_client_secret

# S3 Storage
S3_ENDPOINT=https://s3.yourcompany.com
S3_ACCESS_KEY=your_access_key
S3_SECRET_KEY=your_secret_key
S3_BUCKET_NAME=smartdictophone-audio

# API Configuration
API_KEY=your_ml_service_api_key
CORS_ALLOWED_HOSTS=https://yourapp.com,https://admin.yourapp.com
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Keycloak

1. **–°–æ–∑–¥–∞–Ω–∏–µ realm**: –°–æ–∑–¥–∞–π—Ç–µ realm —Å –∏–º–µ–Ω–µ–º `smartdictophone`
2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞**: 
   - Client ID: `smartdictophone-backend`
   - Client Type: `confidential`
   - Valid redirect URIs: `https://yourapp.com/*`
3. **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞**: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client Secret –∏–∑ –≤–∫–ª–∞–¥–∫–∏ Credentials

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
CREATE DATABASE smartdictophone;
CREATE USER smartdictophone WITH PASSWORD 'your_secure_password';
GRANT ALL PRIVILEGES ON DATABASE smartdictophone TO smartdictophone;

-- –ú–∏–≥—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```

## üìö API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### Swagger UI
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
- **Swagger UI**: `http://localhost:8888/swagger-ui`
- **OpenAPI JSON**: `http://localhost:8888/openapi.json`

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

#### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `POST /refresh` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- `POST /loginOnToken` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- `GET /recordInfo` - –ü—Ä–æ—Ñ–∏–ª—å –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

#### –ü–∞–ø–∫–∏
- `GET /folders` - –°–ø–∏—Å–æ–∫ –ø–∞–ø–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /folders` - –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π –ø–∞–ø–∫–∏

#### –ó–∞–ø–∏—Å–∏
- `GET /records` - –°–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π (—Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π)
- `POST /records` - –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏
- `GET /records/{id}/audio` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –∞—É–¥–∏–æ
- `GET /records/{id}/pdf` - –°–∫–∞—á–∏–≤–∞–Ω–∏–µ PDF —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–µ–π

#### –°–∏—Å—Ç–µ–º–∞
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–∞
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API

## üß™ QA Postman Collection

- **–õ–æ–∫–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª**: `files/postman/smart-dictophone-qa.postman_collection.json` —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–ª–æ—Å–∫—É—é –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å–æ —Å—Ü–µ–Ω–∞—Ä–∏–µ–º smoke-—Ç–µ—Å—Ç–æ–≤ (—Å–∏—Å—Ç–µ–º–∞, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –ø–∞–ø–∫–∏, –∑–∞–ø–∏—Å–∏).
- **–ò–º–ø–æ—Ä—Ç**: `File ‚Üí Import ‚Üí Upload Files` –≤ Postman –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —É–∫–∞–∑–∞–Ω–Ω—ã–π JSON. –ü–æ—Å–ª–µ –∏–º–ø–æ—Ä—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –∏–∑ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ (`baseUrl`, `userEmail`, `userPassword`, `recordFile` –∏ —Ç. –¥.) –∏–ª–∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø—Ä—è–º–æ –≤ —Ä–∞–∑–¥–µ–ª–µ Variables.
- **–ó–∞–ø—É—Å–∫**: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Runner/Postman CLI, –≤—ã–±—Ä–∞–≤ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ. –î–ª—è CLI –º–æ–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å [newman](https://github.com/postmanlabs/newman) –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç—å `npx newman run files/postman/smart-dictophone-qa.postman_collection.json -e <env.json>`.
- **–ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å**: –ø—Ä–æ–≤–µ—Ä—å—Ç–µ `baseUrl` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `http://localhost:8888`), —Ä–µ–∞–ª—å–Ω—ã–µ —É—á—ë—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (`userPassword`, `userEmail`), –∞ —Ç–∞–∫–∂–µ –ø—É—Ç—å –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –∞—É–¥–∏–æ—Ñ–∞–π–ª—É –¥–ª—è `recordFile` –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –∑–∞–ø–∏—Å–∏.

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### JWT –¢–æ–∫–µ–Ω—ã
- **Access —Ç–æ–∫–µ–Ω**: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ 15 –º–∏–Ω—É—Ç
- **Refresh —Ç–æ–∫–µ–Ω**: –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ 7 –¥–Ω–µ–π
- **–ê–ª–≥–æ—Ä–∏—Ç–º**: RS256 (Keycloak –ø—É–±–ª–∏—á–Ω—ã–µ –∫–ª—é—á–∏)

### API Keys
ML —Å–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π API –∫–ª—é—á –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ `X-API-Key`.

### CORS
–ù–∞—Å—Ç—Ä–æ–µ–Ω—ã —Ä–∞–∑—Ä–µ—à—ë–Ω–Ω—ã–µ –¥–æ–º–µ–Ω—ã –¥–ª—è –º–µ–∂–¥–æ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤.

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### Health Check
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è API
curl http://localhost:8888/health

# –û—Ç–≤–µ—Ç: {"status":"healthy"}
```

### –õ–æ–≥–∏
–õ–æ–≥–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω—ã –∏ –≤–∫–ª—é—á–∞—é—Ç:
- HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã
- –û—à–∏–±–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- SQL –∑–∞–ø—Ä–æ—Å—ã (–≤ debug —Ä–µ–∂–∏–º–µ)
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏

### –°–∫—Ä–∏–ø—Ç—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- `scripts/health-check.sh` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ API
- `scripts/get-client-secret.sh` - –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–µ–∫—Ä–µ—Ç–∞ Keycloak –∫–ª–∏–µ–Ω—Ç–∞

## üöÄ –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ

### Docker
```bash
# –°–±–æ—Ä–∫–∞ Docker –æ–±—Ä–∞–∑–∞
docker build -t smartdictophone-api .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -d \
  --name smartdictophone-api \
  --env-file .env \
  -p 8888:8888 \
  smartdictophone-api
```

### Kubernetes
–ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Kubernetes –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ñ–∞–π–ª–∞—Ö:
- `k8s/deployment.yaml`
- `k8s/service.yaml`
- `k8s/configmap.yaml`

### Nginx
–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –ø—Ä–æ–∫—Å–∏:

```nginx
server {
    listen 443 ssl;
    server_name api.yourcompany.com;
    
    ssl_certificate /path/to/certificate.crt;
    ssl_certificate_key /path/to/private.key;
    
    location / {
        proxy_pass http://localhost:8888;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ª–∏—Ü–µ–Ω–∑–∏—Ä–æ–≤–∞–Ω –ø–æ–¥ MIT License. –°–º. —Ñ–∞–π–ª [LICENSE](LICENSE) –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **API Reference**: `/swagger-ui`
- **OpenAPI Spec**: `/openapi.json`

### –ö–æ–Ω—Ç–∞–∫—Ç—ã
- **Email**: support@smartdictophone.com
- **Issues**: [GitHub Issues](https://github.com/KingOfRaccoon/SmartDictophone/issues)

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å
–ú—ã —Ü–µ–Ω–∏–º –≤–∞—à—É –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å! –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–ª–∏ –≤—ã –Ω–∞—à–ª–∏ –±–∞–≥, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ GitHub –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –Ω–∞–º–∏ –ø–æ email.

---

**Smart Dictophone API** - –ù–∞–¥—ë–∂–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –∞—É–¥–∏–æ–∑–∞–ø–∏—Å–µ–π üéôÔ∏è‚ú®