ktor:
    application:
        modules:
            - ru.kingofraccoons.ApplicationKt.module
    deployment:
        port: ${PORT:8888}

database:
  url: ${DATABASE_URL:jdbc:postgresql://postgres:5432/smart_dictophone}
  driver: ${DATABASE_DRIVER:org.postgresql.Driver}
  user: ${DATABASE_USER:postgres}
  password: ${DATABASE_PASSWORD:postgres}
  maxPoolSize: ${DATABASE_MAX_POOL_SIZE:10}

jwt:
  secret: ${JWT_SECRET:local-development-secret-change-me}
  issuer: "smart-dictophone-api"
  audience: "smart-dictophone-users"
  realm: "master"
  accessTokenExpiration: 3600000   # 1 hour in milliseconds
  refreshTokenExpiration: 2592000000 # 30 days in milliseconds

keycloak:
  serverUrl: ${KEYCLOAK_SERVER_URL:http://keycloak:8090}
  publicUrl: ${KEYCLOAK_PUBLIC_URL:http://keycloak:8090}
  realm: ${KEYCLOAK_REALM:master}
  clientId: ${KEYCLOAK_CLIENT_ID:backend}
  clientSecret: ${KEYCLOAK_CLIENT_SECRET:8NaOB00Bo2TLFGJiuHGfHR5CF5uPXjR2}
  adminUsername: ${KEYCLOAK_ADMIN_USERNAME:admin}
  adminPassword: ${KEYCLOAK_ADMIN_PASSWORD:admin}

api:
  key: ${API_KEY:test-api-key}

s3:
  endpoint: ${S3_ENDPOINT:http://minio:9000}
  region: ${S3_REGION:us-east-1}
  accessKey: ${S3_ACCESS_KEY:minioadmin}
  secretKey: ${S3_SECRET_KEY:minioadmin}
  bucket: ${S3_BUCKET:smart-dictophone-audio}

rabbitmq:
  host: ${RABBITMQ_HOST:localhost}
  port: ${RABBITMQ_PORT:5672}
  username: ${RABBITMQ_USER:rmuser}
  password: ${RABBITMQ_PASSWORD:rmpassword}
  queue: ${RABBITMQ_QUEUE:transcription_queue}
